import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'
import LanguageDetector from 'i18next-browser-languagedetector'

// Translation resources
const resources = {
  en: {
    translation: {
      // Navigation
      dashboard: 'Dashboard',
      order_management: 'Order Management',
      menu_management: 'Menu Management',
      inventory_management: 'Inventory Management',
      customers: 'Customers',
      employees: 'Employees',
      ingredients: 'Ingredients',
      inventory: 'Inventory',
      suppliers: 'Suppliers',
      supplier_management: 'Supplier Management',
      supplier_orders: 'Supplier Orders',
      add_supplier: 'Add Supplier',
      suppliers_directory: 'Suppliers Directory',
      supplier: 'Supplier',
      contact: 'Contact',
      delivery_days: 'Delivery Days',
      order_days: 'Order Days',
      lead_time: 'Lead Time',
      min_order: 'Min Order',
      auto_order: 'Auto Order',
      status_text: 'Status',
      actions: 'Actions',
      active: 'Active',
      inactive: 'Inactive',
      days_word: 'days',
      workforce: 'Workforce',
      logistics: 'Logistics',
      financial: 'Financial',
      analytics: 'Analytics',

      // Suppliers Summary
      total_suppliers: 'Total Suppliers',
      active_suppliers: 'Active Suppliers',
      auto_order_enabled: 'Auto-Order Enabled',
      avg_lead_time: 'Avg Lead Time',

      // New menu groupings
      products_inventory: 'Products & Inventory',
      supplies: 'Supplies',
      finance_insights: 'Finance & Insights',
      team: 'Team',
      sales_data: 'Sales Data',
      operations: 'Operations',
      finance: 'Finance',

      // Orders
      orders: 'Orders',
      all_orders: 'All Orders',
      add_order_record: 'Add Order Record',
      import_orders: 'Import Orders',
      new_order: 'New Order',
      order_number: 'Order #',
      customer: 'Customer',
      items: 'Items',
      total: 'Total',
      payment: 'Payment',
      status: 'Status',
      source: 'Source',
      walk_in: 'Walk-in',
      time: 'Time',

      // Dashboard
      todays_performance: "Today's Performance",
      this_week: 'This Week',
      this_month: 'This Month',
      top_selling_items: 'Top Selling Items',
      key_metrics: 'Key Metrics',
      payment_methods: 'Payment Methods',
      location_performance: 'Location Performance',
      avg_order_value: 'Avg Order Value',
      total_orders: 'Total Orders',
      peak_hour: 'Peak Hour',
      total_revenue: 'Total Revenue',
      orders_count: '{{count}} orders',
      revenue: 'Revenue',
      sold: 'sold',
      orders_text: 'orders',

      // Order Creation
      customer_information: 'Customer Information',
      select_customer: 'Select Customer',
      walk_in_customer: 'Walk-in Customer',
      add_new_customer: 'Add New Customer',
      cancel_new_customer: 'Cancel New Customer',
      first_name: 'First Name',
      last_name: 'Last Name',
      email: 'Email',
      phone: 'Phone',
      select_menu_items: 'Select Menu Items',
      order_summary: 'Order Summary',
      no_items_selected: 'No items selected',
      each: 'each',
      subtotal: 'Subtotal',
      tax: 'Tax',
      tip_amount: 'Tip Amount',
      order_date_time: 'Order Date & Time',
      location: 'Location',
      payment_method: 'Payment Method',
      special_instructions: 'Special Instructions',
      cancel: 'Cancel',
      create_order: 'Create Order',

      // Payment Methods
      cash: 'Cash',
      card: 'Card',
      mobile: 'Mobile',
      online: 'Online',
      other: 'Other',

      // Common
      delete: 'Delete',
      edit: 'Edit',
      save: 'Save',
      close: 'Close',
      yes: 'Yes',
      no: 'No',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      warning: 'Warning',
      info: 'Info',
      enabled: 'Enabled',

      // Menu Management
      retry: 'Retry',
      menu_item_updated_success: 'Menu item updated successfully',
      menu_item_created_success: 'Menu item created successfully',
      failed_to_save_menu_item: 'Failed to save menu item',
      menu_item_deleted_success: 'Menu item deleted successfully',
      failed_to_delete_menu_item: 'Failed to delete menu item',
      availability_updated_success: 'Availability updated successfully',
      failed_to_update_availability: 'Failed to update availability',
      add_menu_item: 'Add Menu Item',
      ingredient_cost: 'Ingredient Cost',
      profit_margin: 'Profit Margin',
      prep_time: 'Prep time',
      minutes_short: 'min',
      edit_menu_item: 'Edit Menu Item',
      add_new_menu_item: 'Add New Menu Item',
      item_name: 'Item Name',
      category: 'Category',
      description: 'Description',
      price: 'Price',
      prep_time_minutes: 'Prep Time (minutes)',
      download_template: 'Template',
      download_template_tooltip: 'Download CSV template',
      importing: 'Importing...',
      import_csv: 'Import CSV',
      add_ingredient: 'Add Ingredient',
      ingredient: 'Ingredient',
      quantity: 'Quantity',
      unit: 'Unit',
      cost: 'Cost',
      select_ingredient: 'Select ingredient',
      total_ingredient_cost: 'Total Ingredient Cost',
      profit_per_item: 'Profit per Item',
      allergens_comma_separated: 'Allergens (comma separated)',
      available: 'Available',
      update_item: 'Update Item',
      add_item: 'Add Item',
      import: 'Import',
      item: 'Item',
      current_stock: 'Current Stock',
      suggested_qty: 'Suggested Qty',
      unit_cost: 'Unit Cost',
      total_cost: 'Total Cost',
      delivery: 'Delivery',
      auto_order_suggestions: 'Auto-Order Suggestions',
      hide: 'Hide',
      view: 'View',
      suggestions: 'Suggestions',
      total_estimated_cost: 'Total estimated cost',
      total_items: 'Total Items',
      low_stock_items: 'Low Stock Items',
      total_value: 'Total Value',
      min_threshold: 'Min Threshold',
      stock_level: 'Stock Level',
      last_restocked: 'Last Restocked',
      // Supplier Orders
      generate_auto_orders: 'Generate Auto Orders',
      pending_orders: 'Pending Orders',
      need_attention: 'Need Attention',
      delivered_text: 'Delivered',
      orders_needing_attention: 'Orders Needing Attention',
      overdue_delivery_expected: 'Overdue delivery (expected {{date}})',
      submitted_days_ago: 'Submitted {{count}} days ago - needs follow-up',
      needs_attention: 'Needs attention',
      total_amount: 'Total Amount',
      priority: 'Priority',
      order_date: 'Order Date',
      expected_delivery: 'Expected Delivery',
      unknown: 'Unknown',
      edit_order: 'Edit Order',
      delete_order: 'Delete Order',
      // Inventory Dialog
      edit_inventory_item: 'Edit Inventory Item',
      add_new_inventory_item: 'Add New Inventory Item',
      select_ingredient_label: 'Select Ingredient',
      select_ingredient_placeholder: 'Choose from existing ingredients',
      auto_filled_from_ingredient: 'Auto-filled from ingredient',
      import_from_ingredients: 'Import from Ingredients',
      all_ingredients_in_inventory: 'All ingredients are already in inventory',
      imported_ingredients_to_inventory: 'Imported {{count}} ingredients to inventory',
      failed_to_save_inventory_item: 'Failed to save inventory item',
      failed_to_delete_inventory_item: 'Failed to delete inventory item',
      low_stock_alert: 'Low Stock Alert',
      items_below_threshold: '{{count}} item(s) are below minimum threshold',

      // Ingredients Page
      ingredient_management: 'Ingredient Management',
      import_export: 'Import/Export',
      total_ingredients: 'Total Ingredients',
      categories_text: 'Categories',
      avg_cost: 'Avg Cost',
      ingredient_name: 'Ingredient Name',
      cost_per_unit: 'Cost per Unit',
      supplier_label: 'Supplier',
      last_updated: 'Last Updated',
      unavailable: 'Unavailable',
      edit_ingredient: 'Edit Ingredient',
      add_new_ingredient: 'Add New Ingredient',
      select_supplier_placeholder: 'Select from active suppliers or type new',
      ingredient_updated_success: 'Ingredient updated successfully',
      ingredient_created_success: 'Ingredient created successfully',
      failed_to_save_ingredient: 'Failed to save ingredient',
      ingredient_deleted_success: 'Ingredient deleted successfully',
      failed_to_delete_ingredient: 'Failed to delete ingredient',
      import_completed_with_errors: 'Import completed with {{count}} errors. Check console for details.',
      ingredients_imported_success: 'Successfully imported {{count}} ingredients',
      failed_to_import_ingredients: 'Failed to import ingredients',
      failed_to_parse_csv: 'Failed to parse CSV file',
      ingredients_exported_success: 'Ingredients exported successfully',
      template_downloaded_success: 'Template downloaded successfully',
      update_ingredient: 'Update Ingredient',
      export_csv: 'Export CSV',

      // Messages
      order_created_successfully: 'Order created successfully',
      failed_to_create_order: 'Failed to create order',
      order_deleted_successfully: 'Order deleted successfully',
      failed_to_delete_order: 'Failed to delete order',
      failed_to_load_data: 'Failed to load data',

      // Authentication
      login: 'Login',
      signup: 'Sign Up',
      sign_out: 'Sign Out',
      password: 'Password',
      confirm_password: 'Confirm Password',
      dont_have_account: "Don't have an account? Sign up",
      already_have_account: 'Already have an account? Login',
      passwords_dont_match: "Passwords don't match",
      password_too_short: 'Password must be at least 6 characters',
      signup_success_message: 'Account created successfully! Please check your email to verify your account.',
      user_management: 'User Management',
      profile_information: 'Profile Information',
      account_created: 'Account Created',
      last_sign_in: 'Last Sign In',
      email_verified: 'Email Verified',
      verified: 'Verified',
      not_verified: 'Not Verified',
      never: 'Never',
      account_actions: 'Account Actions',
      reset_password: 'Reset Password',
      user_id: 'User ID',
      password_reset_confirmation: 'Are you sure you want to reset your password? A reset link will be sent to your email.',
      send_reset_email: 'Send Reset Email',
      password_reset_email_sent: 'Password reset email sent successfully!',
      no_user_data: 'No user data available'
    }
  },
  he: {
    translation: {
      // Navigation
      dashboard: 'לוח בקרה',
      order_management: 'ניהול הזמנות',
      menu_management: 'ניהול תפריט',
      inventory_management: 'ניהול מלאי',
      customers: 'לקוחות',
      employees: 'עובדים',
      ingredients: 'מרכיבים',
      inventory: 'מלאי',
      suppliers: 'ספקים',
      supplier_management: 'ניהול ספקים',
      supplier_orders: 'הזמנות ספקים',
      add_supplier: 'הוסף ספק',
      suppliers_directory: 'ספריית ספקים',
      supplier: 'ספק',
      contact: 'איש קשר',
      delivery_days: 'ימי משלוח',
      order_days: 'ימי הגשת הזמנה',
      lead_time: 'זמן אספקה',
      min_order: 'הזמנה מינימלית',
      auto_order: 'הזמנה אוטומטית',
      status_text: 'סטטוס',
      actions: 'פעולות',
      active: 'פעיל',
      inactive: 'לא פעיל',
      days_word: 'ימים',
      workforce: 'עובדים',
      logistics: 'לוגיסטיקה',
      financial: 'כספים',
      analytics: 'אנליטיקה',

      // Suppliers Summary
      total_suppliers: 'סך הספקים',
      active_suppliers: 'ספקים פעילים',
      auto_order_enabled: 'הזמנה אוטומטית פעילה',
      avg_lead_time: 'זמן אספקה ממוצע',

      // New menu groupings
      products_inventory: 'מוצרים ומלאי',
      supplies: 'אספקה',
      finance_insights: 'כספים ותובנות',
      team: 'צוות',
      sales_data: 'נתוני מכירות',
      operations: 'תפעול',
      finance: 'כספים',

      // Orders
      orders: 'הזמנות',
      all_orders: 'כל ההזמנות',
      add_order_record: 'הוסף רשומת הזמנה',
      import_orders: 'ייבא הזמנות',
      new_order: 'הזמנה חדשה',
      order_number: "הזמנה מס'",
      customer: 'לקוח',
      items: 'פריטים',
      total: 'סך הכל',
      payment: 'תשלום',
      status: 'סטטוס',
      source: 'מקור',
      walk_in: 'לקוח חולף',
      time: 'זמן',

      // Dashboard
      todays_performance: 'ביצועי היום',
      this_week: 'השבוע',
      this_month: 'החודש',
      top_selling_items: 'הפריטים הנמכרים ביותר',
      key_metrics: 'מדדים עיקריים',
      payment_methods: 'אמצעי תשלום',
      location_performance: 'ביצועי מיקומים',
      avg_order_value: 'ערך הזמנה ממוצע',
      total_orders: 'סך הזמנות',
      peak_hour: 'שעת שיא',
      total_revenue: 'סך הכנסות',
      orders_count: '{{count}} הזמנות',
      revenue: 'הכנסות',
      sold: 'נמכר',
      orders_text: 'הזמנות',

      // Order Creation
      customer_information: 'פרטי לקוח',
      select_customer: 'בחר לקוח',
      walk_in_customer: 'לקוח חולף',
      add_new_customer: 'הוסף לקוח חדש',
      cancel_new_customer: 'בטל לקוח חדש',
      first_name: 'שם פרטי',
      last_name: 'שם משפחה',
      email: 'אימייל',
      phone: 'טלפון',
      select_menu_items: 'בחר פריטי תפריט',
      order_summary: 'סיכום הזמנה',
      no_items_selected: 'לא נבחרו פריטים',
      each: 'כל אחד',
      subtotal: 'סיכום ביניים',
      tax: 'מס',
      tip_amount: 'סכום טיפ',
      order_date_time: 'תאריך ושעת הזמנה',
      location: 'מיקום',
      payment_method: 'אמצעי תשלום',
      special_instructions: 'הוראות מיוחדות',
      cancel: 'בטל',
      create_order: 'צור הזמנה',

      // Payment Methods
      cash: 'מזומן',
      card: 'כרטיס אשראי',
      mobile: 'נייד',
      online: 'אונליין',
      other: 'אחר',

      // Common
      delete: 'מחק',
      edit: 'ערוך',
      save: 'שמור',
      close: 'סגור',
      yes: 'כן',
      no: 'לא',
      loading: 'טוען...',
      error: 'שגיאה',
      success: 'הצלחה',
      warning: 'אזהרה',
      info: 'מידע',
      enabled: 'מופעל',

      // Menu Management
      retry: 'נסה שוב',
      menu_item_updated_success: 'פריט התפריט עודכן בהצלחה',
      menu_item_created_success: 'פריט התפריט נוצר בהצלחה',
      failed_to_save_menu_item: 'נכשל בשמירת פריט התפריט',
      menu_item_deleted_success: 'פריט התפריט נמחק בהצלחה',
      failed_to_delete_menu_item: 'נכשל במחיקת פריט התפריט',
      availability_updated_success: 'הזמינות עודכנה בהצלחה',
      failed_to_update_availability: 'נכשל בעדכון הזמינות',
      add_menu_item: 'הוסף פריט תפריט',
      ingredient_cost: 'עלות מרכיבים',
      profit_margin: 'שולי רווח',
      prep_time: 'זמן הכנה',
      minutes_short: 'דק׳',
      edit_menu_item: 'ערוך פריט תפריט',
      add_new_menu_item: 'הוסף פריט תפריט חדש',
      item_name: 'שם הפריט',
      category: 'קטגוריה',
      description: 'תיאור',
      price: 'מחיר',
      prep_time_minutes: 'זמן הכנה (דקות)',
      download_template: 'תבנית',
      download_template_tooltip: 'הורד תבנית CSV',
      importing: 'מייבא...',
      import_csv: 'ייבוא CSV',
      add_ingredient: 'הוסף מרכיב',
      ingredient: 'מרכיב',
      quantity: 'כמות',
      unit: 'יחידה',
      cost: 'עלות',
      select_ingredient: 'בחר מרכיב',
      total_ingredient_cost: 'סך עלות המרכיבים',
      profit_per_item: 'רווח לפריט',
      allergens_comma_separated: 'אלרגנים (מופרדים בפסיקים)',
      available: 'זמין',
      update_item: 'עדכן פריט',
      add_item: 'הוסף פריט',
      import: 'ייבוא',
      item: 'פריט',
      current_stock: 'מלאי נוכחי',
      suggested_qty: 'כמות מומלצת',
      unit_cost: 'עלות ליחידה',
      total_cost: 'עלות כוללת',
      delivery: 'משלוח',
      auto_order_suggestions: 'הצעות להזמנה אוטומטית',
      hide: 'הסתר',
      view: 'צפה',
      suggestions: 'הצעות',
      total_estimated_cost: 'עלות מוערכת כוללת',
      total_items: 'סך פריטים',
      low_stock_items: 'פריטים במלאי נמוך',
      total_value: 'ערך כולל',
      min_threshold: 'סף מינימום',
      stock_level: 'רמת מלאי',
      last_restocked: 'תאריך מילוי אחרון',
      // Supplier Orders
      generate_auto_orders: 'צור הזמנות אוטומטיות',
      pending_orders: 'הזמנות ממתינות',
      need_attention: 'דרוש טיפול',
      delivered_text: 'נמסרו',
      orders_needing_attention: 'הזמנות הדורשות טיפול',
      overdue_delivery_expected: 'משלוח באיחור (צפוי {{date}})',
      submitted_days_ago: 'נשלח לפני {{count}} ימים - נדרש מעקב',
      needs_attention: 'דורש תשומת לב',
      total_amount: 'סכום כולל',
      priority: 'עדיפות',
      order_date: 'תאריך הזמנה',
      expected_delivery: 'מועד אספקה צפוי',
      unknown: 'לא ידוע',
      edit_order: 'ערוך הזמנה',
      delete_order: 'מחק הזמנה',
      // Inventory Dialog
      edit_inventory_item: 'ערוך פריט מלאי',
      add_new_inventory_item: 'הוסף פריט מלאי חדש',
      select_ingredient_label: 'בחר מרכיב',
      select_ingredient_placeholder: 'בחר ממרכיבים קיימים',
      auto_filled_from_ingredient: 'מולא אוטומטית מהמרכיב',
      import_from_ingredients: 'ייבוא ממרכיבים',
      all_ingredients_in_inventory: 'כל המרכיבים כבר במלאי',
      imported_ingredients_to_inventory: 'יובאו {{count}} מרכיבים למלאי',
      failed_to_save_inventory_item: 'נכשל בשמירת פריט המלאי',
      failed_to_delete_inventory_item: 'נכשל במחיקת פריט המלאי',
      low_stock_alert: 'התראה על מלאי נמוך',
      items_below_threshold: '{{count}} פריטים מתחת לסף המינימום',

      // Ingredients Page
      ingredient_management: 'ניהול מרכיבים',
      import_export: 'ייבוא/ייצוא',
      total_ingredients: 'סך המרכיבים',
      categories_text: 'קטגוריות',
      avg_cost: 'עלות ממוצעת',
      ingredient_name: 'שם מרכיב',
      cost_per_unit: 'עלות ליחידה',
      supplier_label: 'ספק',
      last_updated: 'עודכן לאחרונה',
      unavailable: 'לא זמין',
      edit_ingredient: 'ערוך מרכיב',
      add_new_ingredient: 'הוסף מרכיב חדש',
      select_supplier_placeholder: 'בחר מספקים פעילים או הקלד חדש',
      ingredient_updated_success: 'המרכיב עודכן בהצלחה',
      ingredient_created_success: 'המרכיב נוצר בהצלחה',
      failed_to_save_ingredient: 'נכשל בשמירת המרכיב',
      ingredient_deleted_success: 'המרכיב נמחק בהצלחה',
      failed_to_delete_ingredient: 'נכשל במחיקת המרכיב',
      import_completed_with_errors: 'ייבוא הושלם עם {{count}} שגיאות. בדוק קונסול.',
      ingredients_imported_success: 'יובאו בהצלחה {{count}} מרכיבים',
      failed_to_import_ingredients: 'נכשל בייבוא מרכיבים',
      failed_to_parse_csv: 'נכשל בפענוח קובץ CSV',
      ingredients_exported_success: 'המרכיבים יוצאו בהצלחה',
      template_downloaded_success: 'התבנית הורדה בהצלחה',
      update_ingredient: 'עדכן מרכיב',
      export_csv: 'ייצוא CSV',

      // Messages
      order_created_successfully: 'ההזמנה נוצרה בהצלחה',
      failed_to_create_order: 'נכשל ביצירת ההזמנה',
      order_deleted_successfully: 'ההזמנה נמחקה בהצלחה',
      failed_to_delete_order: 'נכשל במחיקת ההזמנה',
      failed_to_load_data: 'נכשל בטעינת הנתונים',

      // Authentication
      login: 'התחברות',
      signup: 'הרשמה',
      sign_out: 'התנתקות',
      password: 'סיסמה',
      confirm_password: 'אימות סיסמה',
      dont_have_account: 'אין לך חשבון? הירשם',
      already_have_account: 'יש לך כבר חשבון? התחבר',
      passwords_dont_match: 'הסיסמאות לא תואמות',
      password_too_short: 'הסיסמה חייבת להיות לפחות 6 תווים',
      signup_success_message: 'החשבון נוצר בהצלחה! אנא בדוק את האימייל שלך כדי לאמת את החשבון.',
      user_management: 'ניהול משתמש',
      profile_information: 'פרטי פרופיל',
      account_created: 'החשבון נוצר',
      last_sign_in: 'התחברות אחרונה',
      email_verified: 'האימייל מאומת',
      verified: 'מאומת',
      not_verified: 'לא מאומת',
      never: 'אף פעם',
      account_actions: 'פעולות חשבון',
      reset_password: 'איפוס סיסמה',
      user_id: 'מזהה משתמש',
      password_reset_confirmation: 'האם אתה בטוח שברצונך לאפס את הסיסמה? קישור איפוס יישלח לאימייל שלך.',
      send_reset_email: 'שלח אימייל איפוס',
      password_reset_email_sent: 'אימייל איפוס סיסמה נשלח בהצלחה!',
      no_user_data: 'אין נתוני משתמש זמינים'
    }
  }
}

i18n
  // detect user language
  .use(LanguageDetector)
  // pass the i18n instance to react-i18next
  .use(initReactI18next)
  // init i18next
  .init({
    resources,
    fallbackLng: 'en',
    debug: false,

    interpolation: {
      escapeValue: false // not needed for react as it escapes by default
    },

    detection: {
      // options for language detection
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage']
    }
  })

export default i18n
